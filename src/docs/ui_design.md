Считаю, что все методы без аргументов
Макрос METHODS, первый аргумент - тип обьекта, в него передаем названия методов и их типы(как в gMock).
Он раскроется в глобальный вектор лямбд, каждая из которых аргументом принимает обьект и вызывает на нем соотв метод, возвращает hash

NOTE: сами таски по методам можно нагенерить до этого или сделать не макрос а llvm pass

Wrap - видимо на откуп юзеру
Ну или для стандартных типов можем свой закостылить
hash labmdaI(objectType obj) {
// по необходимости тут можно будет делать больше всего, тк генерится макросом, можно имена какие-то вставить и тд
return Wrap<returnTypeI>(obj.MehodNameI());
}

Потом макрос TEST, у которого три аргумента, 1 - общий тип тестируемых обьектов(его можно сгенерить), вызов который вернет первый обьект и вызов который вернет второй.
Внутри TEST уже генерирую SchedulerClass который будет на вход принимать лямбды с интерфейсом как надо(все всегда одни, все норм)
Его передаю в scheduler вместе с чекером, там тоже все типы уже общие. 
